# 计算机网络体系结构

开放系统互联基本参考模型 OSI/RM (Open Systems Interconnection Reference Model) 将计算机网络分为7层，分别是**应用层、表示层、会话层、运输层、网络层、数据链路层、物理层**；TCP/IP 体系则将之分为四层，强调的应用层、运输层和网络层的关系，最下面的网络接口层并没有什么内容；综合两者的优点，推出了五层协议的体系结构。

## 应用层

应用层的主要任务是**通过应用进程间的交互来完成特定网络应用**。该层协议定义的是**应用进程间通信和交互的规则**。对于不同的网络应用应该有不同的应用层协议，比如域名系统 DNS，支持万维网应用的 HTTP，支持电子邮件的 SMTP等。在应用层交互的数据单元称为报文。

## 运输层（Transport layer）

运输层的主要任务是**负责向两台主机中进程之间的通信提供通用的数据传输服务**。“通用”即多种应用可以使用同一个运输层服务。一台主机可以同时运行多个进程，因此运输层具有分用和复用功能。复用就是多个应用层进程可同时使用运输层的服务，分用则是把接收到的信息分别交付给应用层中的相应进程。

运输层主要有以下两种协议：

- 传输控制协议TCP (Transmission Control Protocol)——提供面向连接的、可靠的数据传输服务，其数据传输的单位是**报文段**(segment)。
- 用户数据报协议UDP (User Datagram Protocol)——提供无连接的、尽最大努力 (best-effort) 的数据传输服务（不保证数据传输的可靠性)，其数据传输的单位是**用户数据报**。

## 网络层

网络层负责**为分组交换网上的不同主机提供通信服务**。网络层把运输层产生的报文段或用户数据报封装成**分组或包**进行传输。在 TCP/IP 体系中，网络层使用 IP 协议，因此分组也叫做 IP 数据报。

网络层的另一个任务就是选择合适的路由，使分组能通过网络中的路由找到目的主机，也就是解决不同网络的互连问题。

## 数据链路层

简称链路层。两台主机间的数据传输，总是在一段一段的链路上传送的，这就需要专门的链路层协议。数据层将网络层交下来的 IP 数据报封装成帧，每一帧包括数据和必要的控制信息。由于有控制信息，所以数据链路层也起到了检查帧错误的作用。

## 物理层

在物理层上所传输的数据单位是比特。物理层主要考虑用多大的电压代表“1”和“0”，以及接收方如何识别发送方所发送的比特。需要注意的是，传输过程中所使用的物理媒体，如双绞线等，并不属于物理层的范畴，但是接口的设计仍然属于物理层的范畴。

